
<!DOCTYPE html>
<html lang="ko" class="htmlwrapper">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width">
	<title>연세대학교 RC교육원 RA운영관리시스템</title>
	<link href="https://cdn.jsdelivr.net/npm/fullcalendar@latest/main.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@latest/main.min.js"></script>
	<link rel="shortcut icon" type="image/x-icon" href="{{ url_for('static', filename='images/favicon.ico') }}" />
	<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/default.css') }}" />
	<link rel="stylesheet" type="text/css" href="/static/js/datepicker/datepicker.css" />
	<script type="text/javascript" src="/static/js/jquery.min.js"></script>
	<script type="text/javascript" src="/static/js/jquery.base64.min.js"></script>
	<script type="text/javascript" src="/static/js/input.js"></script>
	<script type="text/javascript" src="/script/datepicker/datepicker.js"></script>
	<script type="text/javascript" src="/script/datepicker/datepicker_ko.js"></script>
	<script type="text/javascript" src="/script/bpopup/jquery.bpopup.js"></script>
</head>
<body class="htmlwrapper">
	<H1 class="notext">연세대학교 RC교육원 RA운영관리시스템</H1>
	<div id="wrapper">
		<div id="rcs_top">
			<h2 class="notext">로고 및 로그아웃 버튼 영역</h2>
			<div id="rcs_top_area">
				<div id="rcs_top_logo"><a href="/" title="연세대학교 RC교육원 RA운영관리시스템">연세대학교 RC교육원 RA운영관리시스템</a></div>
									<div id="rcs_logout">
										<a href="/login" style="text-decoration:none;" title="로그인 버튼">로그인</a>
										<a href="/logout" stype="text-decoration:none;" title="로그아웃 버튼">로그아웃</a>
									</div>
								</div>
		</div>
		<div id="rcs_top_menu">
			<h2 class="notext">메뉴 영역</h2>
			<div id="rcs_top_menu_area">
				<ul class="itemlist" id="rcs_top_menu_list">
					<li id="mainmenu01"><a href="#" title="회계처리">회계처리</a></li>
				</ul>
			</div>
		</div>
		<div id="rcs_mid">
			<div id="rcs_mid_area">
				<div id="rcs_contents_area">
					<div id="rcs_mid_tab">
						<ul class="itemlist">
							<script>
$(document).ready(function() {
    // 초기 설정 함수들
    window.loadMain = function() {
        $('#rcs_contentsbox').load('/manager', function(response, status, xhr) {
            if (status == "error") {
                var msg = "Sorry but there was an error: ";
                $("#rcs_contentsbox").html(msg + xhr.status + " " + xhr.statusText);
            }
        });
        updateActiveTab(); // 탭 업데이트 호출
    };

    window.loadCalendar = function() {
        $('#rcs_contentsbox').load('/calendar', function(response, status, xhr) {
            if (status == "error") {
                var msg = "Sorry but there was an error: ";
                $("#rcs_contentsbox").html(msg + xhr.status + " " + xhr.statusText);
            }
        });
        updateActiveTab(); // 탭 업데이트 호출
    };

    window.loadReceipts = function() {
        $('#rcs_contentsbox').load('/ra/post_receipt', function(response, status, xhr) {
            if (status == "error") {
                var msg = "Sorry but there was an error: ";
                $("#rcs_contentsbox").html(msg + xhr.status + " " + xhr.statusText);
            }
        });
        updateActiveTab(); // 탭 업데이트 호출
    };

    // 탭 활성화 상태를 업데이트 하는 함수
    function updateActiveTab() {
        $(".itemlist li a").removeClass("tab_on"); // 모든 탭에서 tab_on 클래스 제거
        $(event.target).addClass("tab_on"); // 클릭된 탭에만 tab_on 클래스 추가
    }

    // 각 탭에 onclick 이벤트 핸들러 추가
    $(".itemlist li a").click(function(event) {
        // 기본 링크 기능 차단
        event.preventDefault();
        // 각 탭에 따른 함수 호출
        if (this.title === "매니저") {
            loadMain();
        } else if (this.title === "영수증 제출") {
            loadReceipts();
        } else if (this.title === "Calendar") {
            loadCalendar();
        }
    });
	loadReceipts();
});
</script>
							<li><a class="tab_on" href="#" onclick="loadMain(); return false" title="매니저">매니저</a></li>
							<li><a href="#" onclick="loadReceipts(); return false" title="영수증 제출">영수증 제출</a></li>
							<li><a href="#" onclick="loadCalendar(); return false;" title="Calendar">Calendar</a></li>
						</ul>
					</div>
					<div id="rcs_contentsbox">

					</div>
				</div>
			</div>
		</div>
		<div id="rcs_bottom">
			<div id="rcs_bottom_area">
				<H2 class="notext">로고 및 저작권 영역</H2>
				<ul class="itemlist">
					<li id="bottom01"><img src="{{ url_for('static', filename='images/rcs_footlogo.png') }}" alt="연세대학교 로고"></li>
					<li id="bottom02">연세대학교 Residential College<br><span style="color:#acacac;">21983 인천광역시 연수구 송도과학로 85TEL 032-749-3223~6  Email : yicrc@Yonsei.ac.kr</span><br><span class="opensans" style="color:#acacac; font-size:12px;">COPYRIGHT© Residental College, Yonsei University. All Rights Reserved.</span></li>
					<li id="bottom03"><a href="https://yicrc.yonsei.ac.kr/main/policy.asp?mid=m00_02" target="_blank" style="padding:2px 15px 2px 15px; color:#001e40; font-weight:bold; border-radius:15px; color:#666666; background:#f3f3f3; border:1px solid #666666;">개인정보처리방침</a></li>
				</ul>
			</div>
		</div>
	</div>
	<H2 class="notext">페이지 로딩 이미지 표시</h2>
<div id="loading-image" style="display:none;">
	<p id="loading-loader"><img src="{{ url_for('static', filename='images/loader.gif') }}" alt="Loading..." width="100px;" /><br><br><b style="color:#000000;">처리중입니다</b></p>
</div>
	<div id="user_pop_up">
		<a class="b-close" id="b-close">x</a>
		<div class="user_pop_content"></div>
	</div>
	<div id="user_pop_up2">
		<a class="b-close" id="b-close2">x</a>
		<div class="user_pop_content2"></div>
	</div>
	<div id="flash-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <p id="flash-message-text"></p>
        </div>
    </div>
	<script type="text/javascript">
        window.onload = function() {
            var messages = {{ get_flashed_messages(with_categories=True)|tojson }};
            if (messages.length > 0) {
                var modal = document.getElementById("flash-modal");
                var span = document.getElementsByClassName("close")[0];
                var messageText = document.getElementById("flash-message-text");
                var modalContent = document.querySelector(".modal-content");

                messages.forEach(function(message) {
                    messageText.textContent = message[1]; // 메시지 내용 설정
                    modalContent.classList.add(message[0]); // 카테고리별 스타일 적용
                });

                modal.style.display = "block"; // 모달 창 표시

                span.onclick = function() {
                    modal.style.display = "none";
                    modalContent.classList.remove('info', 'success', 'warning', 'error'); // 기존 카테고리 제거
                }

                window.onclick = function(event) {
                    if (event.target == modal) {
                        modal.style.display = "none";
                        modalContent.classList.remove('info', 'success', 'warning', 'error'); // 기존 카테고리 제거
                    }
                }
                document.onkeydown = function(event) {
                    if (event.key === "Escape") {
                        modal.style.display = "none";
                        modalContent.classList.remove('info', 'success', 'warning', 'error'); // 기존 카테고리 제거
                    }
                }
            }
        }
    </script>
</body>
</html>
